# Extended questions data for Linux+ XK0-006 Learning App
# Contains 100+ questions extracted from the exam prep PDF

EXTENDED_QUESTIONS = [
    # Additional Chapter 1 questions
    {"id": "q51", "chapter": 1, "question": "A USB network adapter appears under /dev/ttyUSB0 but no interface like eth1. Which subsystem creates network devices automatically?", "options": ["systemd-networkd", "NetworkManager", "udev", "iptables"], "correct_answer": 2, "explanation": "The udev subsystem dynamically manages device nodes in /dev and runs rules to create network interfaces."},
    {"id": "q52", "chapter": 1, "question": "A SysAdmin needs to restrict SSH access by IP before the firewall starts. Which tool configures packet filtering at the earliest boot stage?", "options": ["firewalld", "iptables-nft", "UFW", "nftables"], "correct_answer": 3, "explanation": "nftables operates at a low level, allowing firewall rules to be loaded very early in boot."},
    {"id": "q53", "chapter": 1, "question": "You must recover a deleted file using tar backups. Which command extracts only a specific path?", "options": ["tar -xzf backup.tar.gz home/user/docs/file", "tar -tzf backup.tar.gz | grep docs", "tar --extract --file=backup.tar.gz user/docs", "tar -xzf backup.tar.gz -C /home/user/docs"], "correct_answer": 0, "explanation": "tar -xzf with a specific path extracts only that member from the archive."},
    {"id": "q54", "chapter": 1, "question": "A RAID 5 array shows degraded state. Which mdadm command rebuilds from spare?", "options": ["mdadm --assemble --scan", "mdadm /dev/md0 --grow --raid-devices=3", "mdadm --manage /dev/md0 --add /dev/sdc1", "mdadm --stop /dev/md0"], "correct_answer": 2, "explanation": "The --manage --add flags add a disk to an existing array, triggering a rebuild."},
    {"id": "q55", "chapter": 1, "question": "A VM's disk image grows unexpectedly after snapshots. Which QEMU feature should you disable?", "options": ["live migration", "QCOW2 preallocation", "snapshot backing file", "balloon driver"], "correct_answer": 2, "explanation": "QCOW2 snapshots create chains of backing files that increase disk usage."},
    {"id": "q56", "chapter": 1, "question": "During DNS query hangs, which file must list nameserver entries?", "options": ["/etc/hosts", "/etc/resolv.conf", "/etc/nsswitch.conf", "/etc/dnsmasq.conf"], "correct_answer": 1, "explanation": "/etc/resolv.conf contains DNS nameserver IP addresses for name resolution."},
    {"id": "q57", "chapter": 1, "question": "An encrypted LUKS partition must unlock at boot. Which file controls automatic unlocking?", "options": ["/etc/crypttab", "/etc/fstab", "/etc/cryptsetup.conf", "/etc/keys.d/luks.key"], "correct_answer": 0, "explanation": "/etc/crypttab maps encrypted devices and specifies key files for boot-time unlocking."},
    {"id": "q58", "chapter": 1, "question": "A backup script uses gzip but the archive is corrupt. Which option verifies integrity?", "options": ["gzip -t backup.gz", "gunzip -c backup.gz", "tar -tzf backup.gz", "gzip --check backup.gz"], "correct_answer": 0, "explanation": "gzip -t tests archive integrity without decompressing."},
    {"id": "q59", "chapter": 1, "question": "While partitioning, you need a filesystem supporting online resizing. Which type fits?", "options": ["ext3", "ext2", "ext4", "XFS"], "correct_answer": 2, "explanation": "ext4 supports online resizing via resize2fs while mounted."},
    {"id": "q60", "chapter": 1, "question": "You must change the default runlevel to multi-user without GUI. Which command configures this permanently?", "options": ["systemctl set-default multi-user.target", "init 3", "systemctl isolate multi-user.target", "runlevel 3"], "correct_answer": 0, "explanation": "systemctl set-default creates a permanent symlink for the default boot target."},
    
    # Additional Chapter 2 questions  
    {"id": "q61", "chapter": 2, "question": "After adding a user to the wheel group, they still cannot use sudo. Which file requires configuration?", "options": ["/etc/sudoers", "/etc/group", "/etc/passwd", "/etc/shadow"], "correct_answer": 0, "explanation": "The /etc/sudoers file must contain a rule granting wheel group sudo access."},
    {"id": "q62", "chapter": 2, "question": "A systemd service shows 'failed' status. Which command provides detailed failure information?", "options": ["systemctl status servicename -l", "journalctl -xe", "systemctl show servicename", "All of the above"], "correct_answer": 3, "explanation": "All commands provide complementary diagnostic information for service failures."},
    {"id": "q63", "chapter": 2, "question": "You must change the default shell for user 'developer' to /bin/zsh. Which command accomplishes this?", "options": ["usermod -s /bin/zsh developer", "chsh -s /bin/zsh developer", "Both A and B", "passwd -s /bin/zsh developer"], "correct_answer": 2, "explanation": "Both usermod -s and chsh -s can change a user's login shell."},
    {"id": "q64", "chapter": 2, "question": "A container requires access to the host's network interfaces. Which run option provides this?", "options": ["--network host", "--net=host", "--network=bridge", "Both A and B"], "correct_answer": 3, "explanation": "--network host and --net=host both disable network namespacing for the container."},
    {"id": "q65", "chapter": 2, "question": "Package updates fail due to repository signature issues. Which command updates GPG keys?", "options": ["rpm --import /path/to/key", "apt-key add /path/to/key", "yum update --refresh", "Depends on the distribution"], "correct_answer": 3, "explanation": "GPG key import commands vary by distribution (rpm vs apt-key)."},
    {"id": "q66", "chapter": 2, "question": "A service needs to start only after network connectivity is established. Which systemd directive ensures this?", "options": ["After=network.target", "Requires=network-online.target", "Wants=network-online.target", "Both B and C"], "correct_answer": 1, "explanation": "Requires=network-online.target creates a strong dependency on full network availability."},
    {"id": "q67", "chapter": 2, "question": "You need to find all files owned by user 'olduser'. Which command locates these files?", "options": ["find / -user olduser -type f", "locate -u olduser", "grep olduser /etc/passwd", "ls -la /home/olduser"], "correct_answer": 0, "explanation": "find with -user predicate searches the filesystem for files owned by a specific user."},
    {"id": "q68", "chapter": 2, "question": "A container fails with 'permission denied' when accessing mounted volumes. What is the likely cause?", "options": ["SELinux context mismatch", "Incorrect volume mount syntax", "Missing container capabilities", "All of the above"], "correct_answer": 3, "explanation": "Permission denied on volumes can be caused by SELinux, syntax errors, or missing capabilities."},
    {"id": "q69", "chapter": 2, "question": "The system runs out of disk space due to log files. Which command configures automatic log rotation?", "options": ["logrotate -f /etc/logrotate.conf", "Edit /etc/logrotate.d/ configuration files", "systemctl enable logrotate.timer", "Both B and C"], "correct_answer": 3, "explanation": "Editing logrotate config files and enabling the timer together ensure automatic rotation."},
    {"id": "q70", "chapter": 2, "question": "Users in group 'dbusers' need passwordless sudo access to database commands. Which sudoers entry enables this?", "options": ["%dbusers ALL=(ALL) NOPASSWD: /usr/bin/mysql, /usr/bin/mysqldump", "dbusers ALL=(ALL) NOPASSWD: ALL", "%dbusers ALL=NOPASSWD: /usr/bin/mysql*", "Both A and C"], "correct_answer": 0, "explanation": "This sudoers entry grants specific command access without password to group members."},
    
    # Additional Chapter 3 questions
    {"id": "q71", "chapter": 3, "question": "A Kerberos realm COMPANY.COM needs to trust users from PARTNER.ORG. Which configuration enables cross-realm authentication?", "options": ["Configure realm trust relationships in /etc/krb5.conf", "Add shared principals to both KDCs", "Implement LDAP synchronization between domains", "Use PAM to bridge authentication methods"], "correct_answer": 0, "explanation": "Cross-realm trust is configured in /etc/krb5.conf with capaths or auth_to_local rules."},
    {"id": "q72", "chapter": 3, "question": "You discover unauthorized login attempts in /var/log/auth.log. Which command configures auditd to monitor authentication events?", "options": ["auditctl -w /var/log/auth.log -p wa", "auditctl -a always,exit -F arch=b64 -S connect", "auditctl -a always,exit -F uid!=0 -F auid!=4294967295 -S execve", "auditctl -w /etc/passwd -p wa -k identity"], "correct_answer": 3, "explanation": "Watching /etc/passwd with auditd tracks identity-related changes and authentication attempts."},
    {"id": "q73", "chapter": 3, "question": "Converting from iptables to nftables, which statement provides NAT masquerading?", "options": ["masquerade", "snat to masquerade", "masquerade random", "dnat to masquerade"], "correct_answer": 0, "explanation": "In nftables, 'masquerade' is a direct statement for source NAT masquerading."},
    {"id": "q74", "chapter": 3, "question": "UFW shows conflicting rules for the same port. Which command displays rule numbers for selective deletion?", "options": ["ufw status numbered", "ufw --numbered status", "ufw show numbered", "Both A and B"], "correct_answer": 0, "explanation": "ufw status numbered shows rules with their index numbers for targeted deletion."},
    {"id": "q75", "chapter": 3, "question": "A user account has been compromised. Which command prevents sudo access without deleting the account?", "options": ["usermod -L username", "gpasswd -d username sudo", "usermod -s /bin/false username", "passwd -l username"], "correct_answer": 3, "explanation": "passwd -l locks the account password, preventing authentication including sudo."},
    {"id": "q76", "chapter": 3, "question": "An application requires temporary elevated privileges. Which Linux capability provides fine-grained control?", "options": ["setcap cap_net_raw+ep /path/to/binary", "chmod +s /path/to/binary", "Configure sudo for specific commands", "Both A and C"], "correct_answer": 0, "explanation": "Linux capabilities provide granular privileges without full root access via setcap."},
    {"id": "q77", "chapter": 3, "question": "SSH connections are being terminated by fail2ban blocking legitimate users. Which configuration prevents this?", "options": ["Increase maxretry value in jail configuration", "Add legitimate IP addresses to ignoreip list", "Adjust bantime to shorter duration", "All of the above depending on scenario"], "correct_answer": 3, "explanation": "Different scenarios may require adjusting maxretry, ignoreip, or bantime settings."},
    {"id": "q78", "chapter": 3, "question": "Multi-factor authentication using TOTP needs implementation for SSH. Which PAM module provides this?", "options": ["pam_google_authenticator", "pam_oath", "pam_totp", "Both A and B"], "correct_answer": 3, "explanation": "Both pam_google_authenticator and pam_oath can provide TOTP for SSH MFA."},
    {"id": "q79", "chapter": 3, "question": "An account requires a restricted shell preventing system command access. Which shell provides this?", "options": ["/bin/rbash", "/bin/false", "/sbin/nologin", "/usr/bin/scponly"], "correct_answer": 2, "explanation": "/sbin/nologin prevents login while displaying a message, commonly used for service accounts."},
    {"id": "q80", "chapter": 3, "question": "GPG key management requires generating a revocation certificate. Which command creates this?", "options": ["gpg --gen-revoke key-id", "gpg --output revoke.asc --gen-revoke key-id", "gpg --gen-revoke --output revoke.asc key-id", "Both B and C"], "correct_answer": 3, "explanation": "Both syntax variations create a revocation certificate for the specified GPG key."},
    
    # Additional Chapter 4 questions
    {"id": "q81", "chapter": 4, "question": "You need to deploy a multi-container application with high availability. Which approach is best?", "options": ["Docker Compose on a single host", "Deploy with Docker Swarm mode", "Use Kubernetes with Compose files", "Manual container deployment across hosts"], "correct_answer": 1, "explanation": "Docker Swarm provides native container orchestration for high availability across hosts."},
    {"id": "q82", "chapter": 4, "question": "A shell function needs to return both status code and output data. Which technique is cleanest?", "options": ["Use global variables for data and return codes for status", "Echo data and use return codes, capture with command substitution", "Write data to temporary files and return status codes", "Both A and B depending on complexity"], "correct_answer": 1, "explanation": "Echoing data and using return codes is the standard shell pattern for function returns."},
    {"id": "q83", "chapter": 4, "question": "Puppet manifests need packages installed before services start. Which directive enforces this?", "options": ["Package['apache2'] -> Service['apache2']", "require => Package['apache2'] in Service resource", "before => Service['apache2'] in Package resource", "All of the above create the same dependency"], "correct_answer": 1, "explanation": "The require metaparameter explicitly declares the dependency within the Service resource."},
    {"id": "q84", "chapter": 4, "question": "A Kubernetes deployment needs rolling updates with zero downtime. Which strategy achieves this?", "options": ["strategy: type: RollingUpdate with appropriate maxUnavailable", "strategy: type: Recreate with health checks", "Blue-green deployment with service switching", "Both A and C can achieve zero downtime"], "correct_answer": 3, "explanation": "Both RollingUpdate strategy and blue-green deployment can achieve zero-downtime updates."},
    {"id": "q85", "chapter": 4, "question": "Version control requires code review before merging to main. Which Git strategy enforces this?", "options": ["Protected branches with required pull requests", "Pre-commit hooks that prevent direct pushes", "Branch permissions with review requirements", "All of the above can enforce reviews"], "correct_answer": 0, "explanation": "Protected branches with required PRs are the server-side enforcement mechanism for code reviews."},
    {"id": "q86", "chapter": 4, "question": "An automation script generates config files from templates. Which approach is most maintainable?", "options": ["Use sed commands for variable replacement", "Implement template processing with Python Jinja2", "Use shell parameter expansion for substitution", "Write custom parsing functions"], "correct_answer": 1, "explanation": "Jinja2 is the industry standard templating engine for maintainable configuration generation."},
    {"id": "q87", "chapter": 4, "question": "Cloud-init configuration needs users, packages, and services setup. Which format is most flexible?", "options": ["YAML cloud-config format", "Shell script user-data", "Python cloud-init modules", "Both A and C depending on complexity"], "correct_answer": 0, "explanation": "YAML cloud-config format is designed specifically for cloud-init with structured, readable syntax."},
    {"id": "q88", "chapter": 4, "question": "A Python script processes large log files. Which approach optimizes memory usage?", "options": ["Read entire file into memory with file.read()", "Process file line-by-line with iteration", "Use mmap for memory-mapped file access", "Both B and C are memory-efficient"], "correct_answer": 3, "explanation": "Line-by-line iteration and mmap both avoid loading the entire file into memory."},
    {"id": "q89", "chapter": 4, "question": "Ansible vault protects sensitive data. Which command encrypts an existing variable file?", "options": ["ansible-vault encrypt vars.yml", "ansible-vault create vars.yml", "ansible-vault edit vars.yml", "ansible-playbook --vault-id vars.yml"], "correct_answer": 0, "explanation": "ansible-vault encrypt encrypts an existing plaintext YAML file for secure storage."},
    {"id": "q90", "chapter": 4, "question": "Git merge conflicts occur frequently. Which strategy minimizes conflicts?", "options": ["Frequent rebasing of feature branches", "Smaller, more focused commits", "Regular communication about code changes", "All of the above help minimize conflicts"], "correct_answer": 1, "explanation": "Small, focused commits reduce the surface area for merge conflicts."},
    
    # Additional Chapter 5 questions
    {"id": "q91", "chapter": 5, "question": "A production web server suddenly becomes unresponsive with 99.9% SLA. Which monitoring provides fastest detection?", "options": ["SNMP-based health checks every 30 seconds", "Synthetic transaction monitoring every 60 seconds", "Application log analysis every 5 minutes", "Manual availability checks every 15 minutes"], "correct_answer": 1, "explanation": "Synthetic monitoring simulates user transactions for fast, proactive issue detection."},
    {"id": "q92", "chapter": 5, "question": "Performance shows 45% CPU but slow response. Which metric provides additional insight?", "options": ["Load average over 1, 5, and 15-minute intervals", "Total number of CPU cores and threads", "CPU cache hit ratio statistics", "Process nice values and priorities"], "correct_answer": 0, "explanation": "Load average shows if the system is overloaded despite moderate CPU usage."},
    {"id": "q93", "chapter": 5, "question": "A filesystem shows read-only after unexpected shutdown. mount -o remount,rw fails. Which step identifies the problem?", "options": ["Check disk space with df -h", "Examine block device errors in system logs", "Verify mount options in /etc/fstab", "Run fsck to detect and repair corruption"], "correct_answer": 3, "explanation": "fsck checks and repairs filesystem corruption after unexpected shutdowns."},
    {"id": "q94", "chapter": 5, "question": "DNS resolution fails for external domains but internal works. dig @8.8.8.8 times out. Which approach isolates the issue?", "options": ["Restart local DNS resolver service", "Check firewall rules for outbound DNS on port 53", "Flush local DNS cache using systemd-resolve", "Verify network interface configuration"], "correct_answer": 1, "explanation": "Firewall rules may be blocking outbound DNS queries on port 53."},
    {"id": "q95", "chapter": 5, "question": "An application loses database connectivity. Error shows 'SELinux preventing connection'. Which command diagnoses the violation?", "options": ["ausearch -m AVC -ts recent followed by sealert", "setenforce 0 to disable SELinux temporarily", "restorecon -R /var/lib/mysql", "getsebool -a | grep database"], "correct_answer": 0, "explanation": "ausearch and sealert provide comprehensive SELinux denial analysis."},
    {"id": "q96", "chapter": 5, "question": "System memory shows 95% used but free -h shows significant cached memory. Which determines memory pressure?", "options": ["vmstat 1 10 to monitor memory patterns", "top -o %MEM to identify memory-intensive processes", "swapon -s to check swap utilization", "All provide complementary memory analysis"], "correct_answer": 3, "explanation": "Multiple tools together provide comprehensive memory pressure analysis."},
    {"id": "q97", "chapter": 5, "question": "Network performance degrades during peak hours. iftop shows high bandwidth. Which identifies traffic sources?", "options": ["Use tcpdump to capture packets", "Implement QoS rules to prioritize critical traffic", "Monitor per-process network usage with nethogs", "Both A and C provide traffic source identification"], "correct_answer": 3, "explanation": "tcpdump and nethogs help identify which processes generate network traffic."},
    {"id": "q98", "chapter": 5, "question": "System load exceeds 4.0 on 4-core system. htop shows processes in 'D' state. What causes this?", "options": ["CPU-intensive processes consuming all cores", "High memory pressure causing excessive swapping", "I/O bottleneck with processes waiting for disk", "Network latency affecting distributed applications"], "correct_answer": 2, "explanation": "D state (uninterruptible sleep) indicates processes waiting for I/O operations."},
    {"id": "q99", "chapter": 5, "question": "Log aggregation shows increasing disk usage despite log rotation. Which investigation identifies root cause?", "options": ["Verify log rotation service with systemctl status logrotate", "Check for applications holding open file handles to rotated logs", "Examine logrotate configuration for syntax errors", "All should be investigated systematically"], "correct_answer": 3, "explanation": "Systematic investigation of all factors identifies the root cause of log disk issues."},
    {"id": "q100", "chapter": 5, "question": "Performance indicates I/O wait consuming 60% of CPU. Which tool provides detailed storage analysis?", "options": ["iostat -x 1 to monitor per-device I/O statistics", "iotop -o to identify processes generating I/O load", "Both provide comprehensive I/O analysis", "lsof | grep REG to find processes with open files"], "correct_answer": 2, "explanation": "iostat and iotop together provide comprehensive storage subsystem analysis."},
]

# Extended flashcards
EXTENDED_FLASHCARDS = [
    # More Boot Process cards
    {"id": "f31", "chapter": 1, "front": "What is the difference between BIOS and UEFI?", "back": "BIOS (Basic I/O System) is legacy firmware with 16-bit mode and MBR partitioning. UEFI (Unified Extensible Firmware Interface) is modern with 32/64-bit mode, GPT partitioning, Secure Boot, and faster boot times.", "category": "Boot Process"},
    {"id": "f32", "chapter": 1, "front": "What is initramfs and why is it needed?", "back": "initramfs (initial RAM filesystem) is a temporary root filesystem loaded into memory during boot. It contains essential drivers and scripts to mount the real root filesystem, especially important for encrypted or LVM setups.", "category": "Boot Process"},
    
    # Storage cards
    {"id": "f33", "chapter": 1, "front": "What are RAID levels 0, 1, 5, and 6?", "back": "RAID 0: Striping (no redundancy). RAID 1: Mirroring (full redundancy). RAID 5: Striping with parity (survives 1 disk failure). RAID 6: Double parity (survives 2 disk failures).", "category": "Storage"},
    {"id": "f34", "chapter": 1, "front": "What is the difference between ext4 and XFS?", "back": "ext4: Journal filesystem, max 1EB volume, supports shrinking. XFS: High-performance, no shrinking, better for large files and parallel I/O, default on RHEL.", "category": "Filesystems"},
    
    # Container cards
    {"id": "f35", "chapter": 2, "front": "What is a container namespace?", "back": "Namespaces isolate container resources: PID (processes), NET (networking), MNT (mounts), UTS (hostname), IPC (inter-process communication), USER (user IDs).", "category": "Containers"},
    {"id": "f36", "chapter": 2, "front": "What are cgroups?", "back": "Control groups (cgroups) limit and monitor resource usage (CPU, memory, I/O, network) for processes. Essential for container resource management.", "category": "Containers"},
    
    # Security cards
    {"id": "f37", "chapter": 3, "front": "What is the difference between DAC and MAC?", "back": "DAC (Discretionary Access Control): Owners control permissions (traditional chmod). MAC (Mandatory Access Control): System-wide policy controls access (SELinux, AppArmor).", "category": "Security"},
    {"id": "f38", "chapter": 3, "front": "What are SELinux contexts?", "back": "SELinux contexts have 4 parts: user:role:type:level. The 'type' (domain for processes, type for files) is most commonly used for access control decisions.", "category": "Security"},
    {"id": "f39", "chapter": 3, "front": "What is the difference between iptables and nftables?", "back": "nftables replaces iptables with: unified IPv4/IPv6 syntax, atomic rule updates, better performance, simpler rule syntax, and native set/map support.", "category": "Firewall"},
    
    # Automation cards
    {"id": "f40", "chapter": 4, "front": "What is Ansible idempotency?", "back": "Idempotency means running a task multiple times produces the same result. Ansible modules check current state before making changes, ensuring safe re-execution.", "category": "Automation"},
    {"id": "f41", "chapter": 4, "front": "What is Infrastructure as Code (IaC)?", "back": "IaC manages infrastructure through machine-readable files rather than manual processes. Benefits: version control, consistency, automation, documentation.", "category": "DevOps"},
    {"id": "f42", "chapter": 4, "front": "What is the difference between git merge and git rebase?", "back": "merge: Creates a merge commit, preserves branch history. rebase: Moves commits to new base, creates linear history. Use merge for shared branches, rebase for local cleanup.", "category": "Version Control"},
    
    # Troubleshooting cards
    {"id": "f43", "chapter": 5, "front": "What does high load average indicate?", "back": "Load average shows average number of processes waiting to run. Values higher than CPU core count indicate system overload. Check with 'uptime' or 'top'.", "category": "Performance"},
    {"id": "f44", "chapter": 5, "front": "What is the difference between vmstat and iostat?", "back": "vmstat: Memory, swap, I/O, CPU overview. iostat: Detailed per-device I/O statistics (throughput, latency, queue depth). Use together for comprehensive analysis.", "category": "Performance"},
    {"id": "f45", "chapter": 5, "front": "What causes 'Too many open files' errors?", "back": "Process exceeded file descriptor limit (ulimit -n). Solutions: increase limit in /etc/security/limits.conf, or fix file descriptor leaks in application.", "category": "Troubleshooting"},
]
